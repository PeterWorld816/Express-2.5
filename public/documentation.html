<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>API Documentation</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            line-height: 1.6;
            margin: 20px;
        }
        h1, h2 {
            color: #333;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: 20px;
        }
        table, th, td {
            border: 1px solid #ccc;
        }
        th, td {
            padding: 12px;
            text-align: left;
        }
        th {
            background-color: #f4f4f4;
        }
    </style>
</head>
<body>

    <h1>Movie & User API Documentation</h1>

    <p>This document provides an overview of the API endpoints available in the Movie & User API, including the request methods, URLs, and expected responses.</p>

    <h2>Movies Endpoints</h2>
    <table>
        <tr>
            <th>Request</th>
            <th>URL</th>
            <th>Description</th>
            <th>Response</th>
        </tr>
        <tr>
            <td>GET</td>
            <td>/movies</td>
            <td>Retrieves a list of all movies in the database.</td>
            <td>A JSON array of movie objects.</td>
        </tr>
        <tr>
            <td>GET</td>
            <td>/movies/:title</td>
            <td>Retrieves details of a specific movie by title.</td>
            <td>A JSON object containing movie details.</td>
        </tr>
        <tr>
            <td>GET</td>
            <td>/genres/:genre</td>
            <td>Retrieves all movies of a specified genre.</td>
            <td>A JSON object containing an array of movies in the specified genre.</td>
        </tr>
        <tr>
            <td>GET</td>
            <td>/directors/:director</td>
            <td>Retrieves the bio of a specified director.</td>
            <td>A JSON object containing the director's bio and birth year.</td>
        </tr>
    </table>

    <h2>Users Endpoints</h2>
    <table>
        <tr>
            <th>Request</th>
            <th>URL</th>
            <th>Description</th>
            <th>Response</th>
        </tr>
        <tr>
            <td>POST</td>
            <td>/users</td>
            <td>Registers a new user.</td>
            <td>A confirmation message and the user's data.</td>
        </tr>
        <tr>
            <td>PUT</td>
            <td>/users/:userId</td>
            <td>Updates information for a specified user.</td>
            <td>A confirmation message.</td>
        </tr>
        <tr>
            <td>POST</td>
            <td>/users/:userId/favorites/:movieId</td>
            <td>Adds a specified movie to a user's list of favorites.</td>
            <td>A confirmation message.</td>
        </tr>
        <tr>
            <td>DELETE</td>
            <td>/users/:userId/favorites/:movieId</td>
            <td>Removes a specified movie from a user's list of favorites.</td>
            <td>A confirmation message.</td>
        </tr>
        <tr>
            <td>DELETE</td>
            <td>/users/:userId</td>
            <td>Deregisters a user by deleting their account.</td>
            <td>A confirmation message.</td>
        </tr>
    </table>

    <h2>Example JSON Responses</h2>

    <h3>GET /movies</h3>
    <pre><code>[
  {
    "id": 1,
    "title": "The Godfather",
    "year": 1972,
    "description": "The aging patriarch of an organized crime dynasty transfers control of his clandestine empire to his reluctant son.",
    "genre": {
      "name": "Crime",
      "description": "Crime films center on the lives of criminals."
    },
    "director": {
      "name": "Francis Ford Coppola",
      "bio": "Francis Ford Coppola is an American film director, producer, and screenwriter known for his epic film The Godfather and its sequels. He has won multiple Academy Awards.",
      "birthday": "April 7, 1939"
    },
    "imageURL": "https://example.com/image.jpg",
    "featured": true
  },
  ...
]</code></pre>

    <h3>GET /movies/:title</h3>
    <pre><code>{
  "id": 3,
  "title": "Pulp Fiction",
  "year": 1994,
  "description": "The lives of two mob hitmen, a boxer, a gangster's wife, and a pair of diner bandits intertwine in four tales of violence and redemption.",
  "genre": {
    "name": "Crime",
    "description": "Crime films center on the lives of criminals."
  },
  "director": {
    "name": "Quentin Tarantino",
    "bio": "Quentin Tarantino is an American filmmaker and screenwriter known for his stylized, non-linear storytelling and his love of film history. He has directed several critically acclaimed movies.",
    "birthday": "March 27, 1963"
  },
  "imageURL": "https://example.com/image.jpg",
  "featured": false
}</code></pre>

    <h3>GET /directors/:director</h3>
    <pre><code>{
  "name": "Quentin Tarantino",
  "bio": "Bio of the director",
  "birthYear": 1960,
  "deathYear": null
}</code></pre>

    <h3>POST /users</h3>
    <pre><code>{
  "id": "uuid-v4-id",
  "username": "newUser",
  "email": "user@example.com",
  "password": "hashedPassword",
  "favorites": []
}</code></pre>

    <h3>PUT /users/:userId</h3>
    <pre><code>{
  "message": "User info updated"
}</code></pre>

    <h3>POST /users/:userId/favorites/:movieId</h3>
    <pre><code>{
  "message": "Movie added to favorites"
}</code></pre>

    <h3>DELETE /users/:userId/favorites/:movieId</h3>
    <pre><code>{
  "message": "Movie removed from favorites"
}</code></pre>

    <h3>DELETE /users/:userId</h3>
    <pre><code>{
  "message": "User deregistered"
}</code></pre>

</body>
</html>
